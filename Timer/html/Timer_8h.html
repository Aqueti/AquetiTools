<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>My Project: Timer.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Timer.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>AWARE Camera Interface Wrapper.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;Winsock2.h&gt;</code><br />
<code>#include &lt;chrono&gt;</code><br />
<code>#include &lt;time.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
<code>#include &lt;sstream&gt;</code><br />
<code>#include &lt;JsonBox.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for Timer.h:</div>
<div class="dyncontent">
<div class="center"><img src="Timer_8h__incl.png" border="0" usemap="#Timer_8h" alt=""/></div>
<!-- MAP 0 -->
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="Timer_8h__dep__incl.png" border="0" usemap="#Timer_8hdep" alt=""/></div>
<!-- MAP 1 -->
</div>
</div>
<p><a href="Timer_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structatl_1_1ObjectIdStruct.html">atl::ObjectIdStruct</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Union to access both ObjectIdData and integer values.  <a href="structatl_1_1ObjectIdStruct.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unionatl_1_1FrameTime.html">atl::FrameTime</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the idealized timestamp of an image The format is: { uint32_t seconds since epoch uint32_t step } where step = (2^32-1) / fps * frame#.  <a href="unionatl_1_1FrameTime.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structatl_1_1SMPTETime.html">atl::SMPTETime</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timecode structure that represents time as hhmmssff.  <a href="structatl_1_1SMPTETime.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classatl_1_1Timer.html">atl::Timer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classatl_1_1Timer.html" title="Timer class for system metrics and measuring time. ">Timer</a> class for system metrics and measuring time.  <a href="classatl_1_1Timer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a68d98adc42e0246a8e6bc73a05c442cd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a68d98adc42e0246a8e6bc73a05c442cd"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Timer_8h.html#a68d98adc42e0246a8e6bc73a05c442cd">TIMER_STEP</a>&#160;&#160;&#160;1e6</td></tr>
<tr class="memdesc:a68d98adc42e0246a8e6bc73a05c442cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resolution of the timer. <br /></td></tr>
<tr class="separator:a68d98adc42e0246a8e6bc73a05c442cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47024204d8ea2cdcc3154f63677b3832"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a47024204d8ea2cdcc3154f63677b3832"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Timer_8h.html#a47024204d8ea2cdcc3154f63677b3832">STEP_SIZE</a>&#160;&#160;&#160;(int)((double)<a class="el" href="Timer_8h.html#a68d98adc42e0246a8e6bc73a05c442cd">TIMER_STEP</a>/65535)</td></tr>
<tr class="memdesc:a47024204d8ea2cdcc3154f63677b3832"><td class="mdescLeft">&#160;</td><td class="mdescRight">Steps per m_step unit. <br /></td></tr>
<tr class="separator:a47024204d8ea2cdcc3154f63677b3832"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a3347ae94d29d5defdca01abdc4643235"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3347ae94d29d5defdca01abdc4643235"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>atl::timePoint</b> = std::chrono::time_point&lt; std::chrono::system_clock, std::chrono::microseconds &gt;</td></tr>
<tr class="separator:a3347ae94d29d5defdca01abdc4643235"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67c343fa9d769f44a659baa23dfc606d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a67c343fa9d769f44a659baa23dfc606d"></a>
typedef struct <a class="el" href="structatl_1_1ObjectIdStruct.html">atl::ObjectIdStruct</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Timer_8h.html#a67c343fa9d769f44a659baa23dfc606d">atl::ObjectId</a></td></tr>
<tr class="memdesc:a67c343fa9d769f44a659baa23dfc606d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Union to access both ObjectIdData and integer values. <br /></td></tr>
<tr class="separator:a67c343fa9d769f44a659baa23dfc606d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:acff56a2311fd5a42f5c49d058b38fd43"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Timer_8cpp.html#acff56a2311fd5a42f5c49d058b38fd43">atl::getTime</a> ()</td></tr>
<tr class="memdesc:acff56a2311fd5a42f5c49d058b38fd43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the current time as a double.  <a href="Timer_8cpp.html#acff56a2311fd5a42f5c49d058b38fd43">More...</a><br /></td></tr>
<tr class="separator:acff56a2311fd5a42f5c49d058b38fd43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7c35067689e99858734c463710e9708"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Timer_8cpp.html#ad7c35067689e99858734c463710e9708">atl::getUsecTime</a> ()</td></tr>
<tr class="memdesc:ad7c35067689e99858734c463710e9708"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the number of microseconds since the epoch.  <a href="Timer_8cpp.html#ad7c35067689e99858734c463710e9708">More...</a><br /></td></tr>
<tr class="separator:ad7c35067689e99858734c463710e9708"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3d45f1cf7d5e0874a3875366eb93cc1"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Timer_8cpp.html#ad3d45f1cf7d5e0874a3875366eb93cc1">atl::getTimestamp</a> ()</td></tr>
<tr class="memdesc:ad3d45f1cf7d5e0874a3875366eb93cc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current time as utc with 2^16 sub second steps.  <a href="Timer_8cpp.html#ad3d45f1cf7d5e0874a3875366eb93cc1">More...</a><br /></td></tr>
<tr class="separator:ad3d45f1cf7d5e0874a3875366eb93cc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade2ece9b704882feffbb9a6fc7958b0a"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Timer_8cpp.html#ade2ece9b704882feffbb9a6fc7958b0a">atl::convertTimeValToDouble</a> (timeval tv)</td></tr>
<tr class="memdesc:ade2ece9b704882feffbb9a6fc7958b0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">converts a timeval struct to double  <a href="Timer_8cpp.html#ade2ece9b704882feffbb9a6fc7958b0a">More...</a><br /></td></tr>
<tr class="separator:ade2ece9b704882feffbb9a6fc7958b0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9d2a8842a9b1bd08040ac6534dddc83"><td class="memItemLeft" align="right" valign="top">SMPTETime&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Timer_8cpp.html#aa9d2a8842a9b1bd08040ac6534dddc83">atl::convertTimeValToSMPTE</a> (timeval tv, double fps)</td></tr>
<tr class="memdesc:aa9d2a8842a9b1bd08040ac6534dddc83"><td class="mdescLeft">&#160;</td><td class="mdescRight">converts a double to an SMPTE time.  <a href="Timer_8cpp.html#aa9d2a8842a9b1bd08040ac6534dddc83">More...</a><br /></td></tr>
<tr class="separator:aa9d2a8842a9b1bd08040ac6534dddc83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58482b94aff8dbe635dde42c56988aae"><td class="memItemLeft" align="right" valign="top">timeval&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Timer_8cpp.html#a58482b94aff8dbe635dde42c56988aae">atl::convertDoubleToTimeVal</a> (double dTime)</td></tr>
<tr class="memdesc:a58482b94aff8dbe635dde42c56988aae"><td class="mdescLeft">&#160;</td><td class="mdescRight">converts a double to a timeval struct  <a href="Timer_8cpp.html#a58482b94aff8dbe635dde42c56988aae">More...</a><br /></td></tr>
<tr class="separator:a58482b94aff8dbe635dde42c56988aae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5402f8ec7c1cd4b04c081038f7c040f5"><td class="memItemLeft" align="right" valign="top">SMPTETime&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Timer_8cpp.html#a5402f8ec7c1cd4b04c081038f7c040f5">atl::convertDoubleToSMPTE</a> (double dTime, double fps)</td></tr>
<tr class="memdesc:a5402f8ec7c1cd4b04c081038f7c040f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">converts a double to an SMPTE time.  <a href="Timer_8cpp.html#a5402f8ec7c1cd4b04c081038f7c040f5">More...</a><br /></td></tr>
<tr class="separator:a5402f8ec7c1cd4b04c081038f7c040f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a829b64c4abc61ff3190ad43bbc31a5b3"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Timer_8cpp.html#a829b64c4abc61ff3190ad43bbc31a5b3">atl::convertTimeValToString</a> (timeval tv, double fps)</td></tr>
<tr class="memdesc:a829b64c4abc61ff3190ad43bbc31a5b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts the given timeval and int into a a string.  <a href="Timer_8cpp.html#a829b64c4abc61ff3190ad43bbc31a5b3">More...</a><br /></td></tr>
<tr class="separator:a829b64c4abc61ff3190ad43bbc31a5b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e6af453d5f81bf62e245523f18c19f4"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Timer_8cpp.html#a9e6af453d5f81bf62e245523f18c19f4">atl::convertSMPTEToTimeCode</a> (SMPTETime smpte)</td></tr>
<tr class="memdesc:a9e6af453d5f81bf62e245523f18c19f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">converts a SMPTE to Timecode (hhmmssff)  <a href="Timer_8cpp.html#a9e6af453d5f81bf62e245523f18c19f4">More...</a><br /></td></tr>
<tr class="separator:a9e6af453d5f81bf62e245523f18c19f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d03003ea78abe715939646e4a85d506"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Timer_8cpp.html#a7d03003ea78abe715939646e4a85d506">atl::convertTimeValToTimeCode</a> (timeval tv, double fps)</td></tr>
<tr class="memdesc:a7d03003ea78abe715939646e4a85d506"><td class="mdescLeft">&#160;</td><td class="mdescRight">converts a timeval structure to Timecode (hhmmssff)  <a href="Timer_8cpp.html#a7d03003ea78abe715939646e4a85d506">More...</a><br /></td></tr>
<tr class="separator:a7d03003ea78abe715939646e4a85d506"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af22a77f0685aa1914fef166d4b3ce87a"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Timer_8cpp.html#af22a77f0685aa1914fef166d4b3ce87a">atl::convertDoubleToTimeCode</a> (double dTime, double fps)</td></tr>
<tr class="memdesc:af22a77f0685aa1914fef166d4b3ce87a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a double to a TimeCode.  <a href="Timer_8cpp.html#af22a77f0685aa1914fef166d4b3ce87a">More...</a><br /></td></tr>
<tr class="separator:af22a77f0685aa1914fef166d4b3ce87a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84dea358f576690ebbb2573bad467a07"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Timer_8cpp.html#a84dea358f576690ebbb2573bad467a07">atl::convertDoubleToTimeStamp</a> (double dTime)</td></tr>
<tr class="memdesc:a84dea358f576690ebbb2573bad467a07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current timestamp.  <a href="Timer_8cpp.html#a84dea358f576690ebbb2573bad467a07">More...</a><br /></td></tr>
<tr class="separator:a84dea358f576690ebbb2573bad467a07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52e920e014a41704e36dd09662e927a8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Timer_8cpp.html#a52e920e014a41704e36dd09662e927a8">atl::sleep</a> (double time)</td></tr>
<tr class="memdesc:a52e920e014a41704e36dd09662e927a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">calculates the sum of two time values &amp; Calcs the sum of tv1 and tv2. Returns the sum in a timeval struct. Calcs negative times properly, with the appropriate sign on both tv_sec and tv_usec (these signs will match unless one of them is 0). NOTE: both abs(tv_usec)'s must be &lt; 1000000 (ie, normal timeval format)  <a href="Timer_8cpp.html#a52e920e014a41704e36dd09662e927a8">More...</a><br /></td></tr>
<tr class="separator:a52e920e014a41704e36dd09662e927a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ecc3577727f04feb10625de453dc63a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3ecc3577727f04feb10625de453dc63a"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>atl::convertObjectIdTimeToDouble</b> (ObjectId id)</td></tr>
<tr class="separator:a3ecc3577727f04feb10625de453dc63a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8afb64ef1ccb2fc505a303ad8e015eb7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8afb64ef1ccb2fc505a303ad8e015eb7"></a>
ObjectId&#160;</td><td class="memItemRight" valign="bottom"><b>atl::convertDoubleToObjectIdTime</b> (double value)</td></tr>
<tr class="separator:a8afb64ef1ccb2fc505a303ad8e015eb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92609c4dc34572991a84643ef246fc47"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a92609c4dc34572991a84643ef246fc47"></a>
uint64_t&#160;</td><td class="memItemRight" valign="bottom"><b>atl::convertUsecsToFrameTime</b> (uint64_t usecs, double fps)</td></tr>
<tr class="separator:a92609c4dc34572991a84643ef246fc47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af027be722fe10b8d5e51677431960d0b"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Timer_8cpp.html#af027be722fe10b8d5e51677431960d0b">atl::getDateAsString</a> ()</td></tr>
<tr class="memdesc:af027be722fe10b8d5e51677431960d0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current date and time as a string.  <a href="Timer_8cpp.html#af027be722fe10b8d5e51677431960d0b">More...</a><br /></td></tr>
<tr class="separator:af027be722fe10b8d5e51677431960d0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a45cc33296b6faaeeeefd73ccd76aa8"><td class="memItemLeft" align="right" valign="top">JsonBox::Value&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Timer_8cpp.html#a9a45cc33296b6faaeeeefd73ccd76aa8">atl::testTimer</a> (bool printFlag, bool assertFlag)</td></tr>
<tr class="memdesc:a9a45cc33296b6faaeeeefd73ccd76aa8"><td class="mdescLeft">&#160;</td><td class="mdescRight">functional test for this class  <a href="Timer_8cpp.html#a9a45cc33296b6faaeeeefd73ccd76aa8">More...</a><br /></td></tr>
<tr class="separator:a9a45cc33296b6faaeeeefd73ccd76aa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d5c345ed15df5398f6810b484cee6d4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Timer_8cpp.html#a2d5c345ed15df5398f6810b484cee6d4">atl::sleepTest</a> (JsonBox::Value &amp;resultString, double delayTime, double sleepElapsed, double timeVariance, bool printFlag, bool assertFlag, int testno)</td></tr>
<tr class="memdesc:a2d5c345ed15df5398f6810b484cee6d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to test sleep.  <a href="Timer_8cpp.html#a2d5c345ed15df5398f6810b484cee6d4">More...</a><br /></td></tr>
<tr class="separator:a2d5c345ed15df5398f6810b484cee6d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f337b8bd68e696ee0f9ea0e0fa07a08"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Timer_8cpp.html#a5f337b8bd68e696ee0f9ea0e0fa07a08">atl::objectIDSizeTest</a> (bool printFlag, bool assertFlag, JsonBox::Value &amp;resultString)</td></tr>
<tr class="memdesc:a5f337b8bd68e696ee0f9ea0e0fa07a08"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to check the ObjectID size.  <a href="Timer_8cpp.html#a5f337b8bd68e696ee0f9ea0e0fa07a08">More...</a><br /></td></tr>
<tr class="separator:a5f337b8bd68e696ee0f9ea0e0fa07a08"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>AWARE Camera Interface Wrapper. </p>
<dl class="section author"><dt>Author</dt><dd>S. D. Feller 2013</dd></dl>
<p>Timer data formats</p>
<p>SMPTETime - structure with hour, minute, second and frame fields double - represents time as UTCSeconds.utc microseconds timeval - structure with 32bit tv_sec and 32 bit tv_usec int64_t - </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="file_a5402f8ec7c1cd4b04c081038f7c040f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SMPTETime atl::convertDoubleToSMPTE </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>fps</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>converts a double to an SMPTE time. </p>
<p>! </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dTime</td><td>time to convert </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fps</td><td>number of frames per second (used to convert decimal time to a frame) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="structatl_1_1SMPTETime.html" title="Timecode structure that represents time as hhmmssff. ">SMPTETime</a> conversion of double </dd></dl>

</div>
</div>
<a class="anchor" id="file_af22a77f0685aa1914fef166d4b3ce87a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t atl::convertDoubleToTimeCode </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>fps</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts a double to a TimeCode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">double</td><td>to be converted to time code </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">FPS</td><td>value needed to convert double to timeval (before conversion to time code) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>64-bit time code </dd></dl>

</div>
</div>
<a class="anchor" id="file_a84dea358f576690ebbb2573bad467a07"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t atl::convertDoubleToTimeStamp </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dTime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current timestamp. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">double</td><td>to be converted to timestamp </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>64-bit timestamp</dd></dl>
<p>This is an internal function since it will eventually calculate frame rate and other information </p>

</div>
</div>
<a class="anchor" id="file_a58482b94aff8dbe635dde42c56988aae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">timeval atl::convertDoubleToTimeVal </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dTime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>converts a double to a timeval struct </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">double</td><td>to be converted to timeval </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>timeval conversion of double </dd></dl>

</div>
</div>
<a class="anchor" id="file_a9e6af453d5f81bf62e245523f18c19f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t atl::convertSMPTEToTimeCode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structatl_1_1SMPTETime.html">SMPTETime</a>&#160;</td>
          <td class="paramname"><em>smpte</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>converts a SMPTE to Timecode (hhmmssff) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname"><a class="el" href="structatl_1_1SMPTETime.html" title="Timecode structure that represents time as hhmmssff. ">SMPTETime</a></td><td>value to be converted to time code </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>64-bit time code </dd></dl>

</div>
</div>
<a class="anchor" id="file_ade2ece9b704882feffbb9a6fc7958b0a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double atl::convertTimeValToDouble </td>
          <td>(</td>
          <td class="paramtype">timeval&#160;</td>
          <td class="paramname"><em>tv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>converts a timeval struct to double </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">timeval</td><td>to be converted to double </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>double conversion of timeval </dd></dl>

</div>
</div>
<a class="anchor" id="file_aa9d2a8842a9b1bd08040ac6534dddc83"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SMPTETime atl::convertTimeValToSMPTE </td>
          <td>(</td>
          <td class="paramtype">timeval&#160;</td>
          <td class="paramname"><em>tv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>fps</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>converts a double to an SMPTE time. </p>
<p>! </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tv</td><td>time to convert </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fps</td><td>number of frames per second (used to convert decimal time to a frame) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="structatl_1_1SMPTETime.html" title="Timecode structure that represents time as hhmmssff. ">SMPTETime</a> conversion of timeval </dd></dl>

</div>
</div>
<a class="anchor" id="file_a829b64c4abc61ff3190ad43bbc31a5b3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string atl::convertTimeValToString </td>
          <td>(</td>
          <td class="paramtype">timeval&#160;</td>
          <td class="paramname"><em>tv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>fps</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts the given timeval and int into a a string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">timeval</td><td>to be converted to string </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">FPS</td><td>value needed to convert timeval to SMPTE (before conversion to string) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::string conversion of timeval </dd></dl>

</div>
</div>
<a class="anchor" id="file_a7d03003ea78abe715939646e4a85d506"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t atl::convertTimeValToTimeCode </td>
          <td>(</td>
          <td class="paramtype">timeval&#160;</td>
          <td class="paramname"><em>tv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>fps</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>converts a timeval structure to Timecode (hhmmssff) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">timeval</td><td>to be converted to time code </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">FPS</td><td>value needed to convert timeval to SMPTE (before conversion to time code) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>64-bit time code </dd></dl>

</div>
</div>
<a class="anchor" id="file_af027be722fe10b8d5e51677431960d0b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string atl::getDateAsString </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current date and time as a string. </p>
<dl class="section return"><dt>Returns</dt><dd>std::string conversion of date </dd></dl>

</div>
</div>
<a class="anchor" id="file_acff56a2311fd5a42f5c49d058b38fd43"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double atl::getTime </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the current time as a double. </p>
<dl class="section return"><dt>Returns</dt><dd>double time </dd></dl>

</div>
</div>
<a class="anchor" id="file_ad3d45f1cf7d5e0874a3875366eb93cc1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t atl::getTimestamp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current time as utc with 2^16 sub second steps. </p>
<dl class="section return"><dt>Returns</dt><dd>64-bit timestamp </dd></dl>

</div>
</div>
<a class="anchor" id="file_ad7c35067689e99858734c463710e9708"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t atl::getUsecTime </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the number of microseconds since the epoch. </p>
<dl class="section return"><dt>Returns</dt><dd>64-bit microsecond time </dd></dl>

</div>
</div>
<a class="anchor" id="file_a5f337b8bd68e696ee0f9ea0e0fa07a08"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void atl::objectIDSizeTest </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>printFlag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>assertFlag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">JsonBox::Value &amp;&#160;</td>
          <td class="paramname"><em>resultString</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper function to check the ObjectID size. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">printFlag</td><td>boolean (true prints info to console) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">assertFlag</td><td>boolean (true stops the program) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">JsonBox::Value</td><td>passed by reference, updated only if this test fails </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="file_a52e920e014a41704e36dd09662e927a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void atl::sleep </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>calculates the sum of two time values &amp; Calcs the sum of tv1 and tv2. Returns the sum in a timeval struct. Calcs negative times properly, with the appropriate sign on both tv_sec and tv_usec (these signs will match unless one of them is 0). NOTE: both abs(tv_usec)'s must be &lt; 1000000 (ie, normal timeval format) </p>
<p>! borrowed copiously from vrpn (thanks Russell ) !perform normalization of a timeval XXX this still needs to be checked for errors if the timeval or the rate is negative !perform normalization of a timeval !Calcs the diff between tv1 and tv2.</p>
<dl class="section return"><dt>Returns</dt><dd>the diff in a timeval struct. Calcs negative times properly, with the appropriate sign on both tv_sec and tv_usec (these signs will match unless one of them is 0) !multiplies the timevale by the given structure !compares two time values </dd>
<dd>
1 if tv1 is greater than tv2; 0 otherwise !checks if two timevals are equal</dd>
<dd>
1 if tv1 is equal to tv2; 0 otherwise converts the ObjectId time into a double. the m_id field is lost converts a double time to an ObjectId time. The m_id field is set to 0 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>time value to set to the object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ObjectId with the m_utc and m_step set appropriately.</dd></dl>
<p><b>NOTE</b> - There is a potential for a rounding error to have the step off by 1 This function will convert millisecond time to our standard frameTime timestep</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">usecs</td><td>Microseconds since the epoch </td></tr>
    <tr><td class="paramname">fps</td><td>The current fps of the camera</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>This function will convert usecs time to standard date time</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">usecs</td><td>Microseconds since the epoch</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Sleeps for the given amount of time</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">double</td><td>time to sleep in seconds (supports millisecond resolution) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="file_a2d5c345ed15df5398f6810b484cee6d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void atl::sleepTest </td>
          <td>(</td>
          <td class="paramtype">JsonBox::Value &amp;&#160;</td>
          <td class="paramname"><em>resultString</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>delayTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>sleepElapsed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>timeVariance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>printFlag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>assertFlag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>testno</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper function to test sleep. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">JsonBox::Value</td><td>passed by reference, updated with results of this test </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">expected</td><td>delay time of sleep function </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">actual</td><td>elapsed time of sleep function </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">acceptable</td><td>time variance </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">printFlag</td><td>boolean (true prints info to console) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">assertFlag</td><td>boolean (true stops the program) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">the</td><td>number of the test currently running (either 1 or 2)</td></tr>
  </table>
  </dd>
</dl>
<p>Calculates the variance between the delay time passed in and the actual sleep time elapsed, and checks this against an allowed time variance. Notifies user that the test has been passed if actual variance is less than the time variance. </p>

</div>
</div>
<a class="anchor" id="file_a9a45cc33296b6faaeeeefd73ccd76aa8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">JsonBox::Value atl::testTimer </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>printFlag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>assertFlag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>functional test for this class </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">printFlag</td><td>boolean (true prints info to console) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">assertFlag</td><td>boolean (true stops the program) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>JsonBox::Value containing test results </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
