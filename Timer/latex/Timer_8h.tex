\hypertarget{Timer_8h}{}\section{Timer.\+h File Reference}
\label{Timer_8h}\index{Timer.\+h@{Timer.\+h}}


A\+W\+A\+RE Camera Interface Wrapper.  


{\ttfamily \#include $<$Winsock2.\+h$>$}\\*
{\ttfamily \#include $<$chrono$>$}\\*
{\ttfamily \#include $<$time.\+h$>$}\\*
{\ttfamily \#include $<$stdint.\+h$>$}\\*
{\ttfamily \#include $<$string$>$}\\*
{\ttfamily \#include $<$sstream$>$}\\*
{\ttfamily \#include $<$Json\+Box.\+h$>$}\\*
Include dependency graph for Timer.\+h\+:
% FIG 0
This graph shows which files directly or indirectly include this file\+:
% FIG 1
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structatl_1_1ObjectIdStruct}{atl\+::\+Object\+Id\+Struct}
\begin{DoxyCompactList}\small\item\em Union to access both Object\+Id\+Data and integer values. \end{DoxyCompactList}\item 
union \hyperlink{unionatl_1_1FrameTime}{atl\+::\+Frame\+Time}
\begin{DoxyCompactList}\small\item\em Sets the idealized timestamp of an image The format is\+: \{ uint32\+\_\+t seconds since epoch uint32\+\_\+t step \} where step = (2$^\wedge$32-\/1) / fps $\ast$ frame\#. \end{DoxyCompactList}\item 
struct \hyperlink{structatl_1_1SMPTETime}{atl\+::\+S\+M\+P\+T\+E\+Time}
\begin{DoxyCompactList}\small\item\em Timecode structure that represents time as hhmmssff. \end{DoxyCompactList}\item 
class \hyperlink{classatl_1_1Timer}{atl\+::\+Timer}
\begin{DoxyCompactList}\small\item\em \hyperlink{classatl_1_1Timer}{Timer} class for system metrics and measuring time. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{Timer_8h_a68d98adc42e0246a8e6bc73a05c442cd}{T\+I\+M\+E\+R\+\_\+\+S\+T\+EP}~1e6\hypertarget{Timer_8h_a68d98adc42e0246a8e6bc73a05c442cd}{}\label{Timer_8h_a68d98adc42e0246a8e6bc73a05c442cd}

\begin{DoxyCompactList}\small\item\em Resolution of the timer. \end{DoxyCompactList}\item 
\#define \hyperlink{Timer_8h_a47024204d8ea2cdcc3154f63677b3832}{S\+T\+E\+P\+\_\+\+S\+I\+ZE}~(int)((double)\hyperlink{Timer_8h_a68d98adc42e0246a8e6bc73a05c442cd}{T\+I\+M\+E\+R\+\_\+\+S\+T\+EP}/65535)\hypertarget{Timer_8h_a47024204d8ea2cdcc3154f63677b3832}{}\label{Timer_8h_a47024204d8ea2cdcc3154f63677b3832}

\begin{DoxyCompactList}\small\item\em Steps per m\+\_\+step unit. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
using {\bfseries atl\+::time\+Point} = std\+::chrono\+::time\+\_\+point$<$ std\+::chrono\+::system\+\_\+clock, std\+::chrono\+::microseconds $>$\hypertarget{Timer_8h_a3347ae94d29d5defdca01abdc4643235}{}\label{Timer_8h_a3347ae94d29d5defdca01abdc4643235}

\item 
typedef struct \hyperlink{structatl_1_1ObjectIdStruct}{atl\+::\+Object\+Id\+Struct} \hyperlink{Timer_8h_a67c343fa9d769f44a659baa23dfc606d}{atl\+::\+Object\+Id}\hypertarget{Timer_8h_a67c343fa9d769f44a659baa23dfc606d}{}\label{Timer_8h_a67c343fa9d769f44a659baa23dfc606d}

\begin{DoxyCompactList}\small\item\em Union to access both Object\+Id\+Data and integer values. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
double \hyperlink{Timer_8cpp_acff56a2311fd5a42f5c49d058b38fd43}{atl\+::get\+Time} ()
\begin{DoxyCompactList}\small\item\em Gets the current time as a double. \end{DoxyCompactList}\item 
uint64\+\_\+t \hyperlink{Timer_8cpp_ad7c35067689e99858734c463710e9708}{atl\+::get\+Usec\+Time} ()
\begin{DoxyCompactList}\small\item\em Gets the number of microseconds since the epoch. \end{DoxyCompactList}\item 
uint64\+\_\+t \hyperlink{Timer_8cpp_ad3d45f1cf7d5e0874a3875366eb93cc1}{atl\+::get\+Timestamp} ()
\begin{DoxyCompactList}\small\item\em Returns the current time as utc with 2$^\wedge$16 sub second steps. \end{DoxyCompactList}\item 
double \hyperlink{Timer_8cpp_ade2ece9b704882feffbb9a6fc7958b0a}{atl\+::convert\+Time\+Val\+To\+Double} (timeval tv)
\begin{DoxyCompactList}\small\item\em converts a timeval struct to double \end{DoxyCompactList}\item 
S\+M\+P\+T\+E\+Time \hyperlink{Timer_8cpp_aa9d2a8842a9b1bd08040ac6534dddc83}{atl\+::convert\+Time\+Val\+To\+S\+M\+P\+TE} (timeval tv, double fps)
\begin{DoxyCompactList}\small\item\em converts a double to an S\+M\+P\+TE time. \end{DoxyCompactList}\item 
timeval \hyperlink{Timer_8cpp_a58482b94aff8dbe635dde42c56988aae}{atl\+::convert\+Double\+To\+Time\+Val} (double d\+Time)
\begin{DoxyCompactList}\small\item\em converts a double to a timeval struct \end{DoxyCompactList}\item 
S\+M\+P\+T\+E\+Time \hyperlink{Timer_8cpp_a5402f8ec7c1cd4b04c081038f7c040f5}{atl\+::convert\+Double\+To\+S\+M\+P\+TE} (double d\+Time, double fps)
\begin{DoxyCompactList}\small\item\em converts a double to an S\+M\+P\+TE time. \end{DoxyCompactList}\item 
std\+::string \hyperlink{Timer_8cpp_a829b64c4abc61ff3190ad43bbc31a5b3}{atl\+::convert\+Time\+Val\+To\+String} (timeval tv, double fps)
\begin{DoxyCompactList}\small\item\em Converts the given timeval and int into a a string. \end{DoxyCompactList}\item 
int64\+\_\+t \hyperlink{Timer_8cpp_a9e6af453d5f81bf62e245523f18c19f4}{atl\+::convert\+S\+M\+P\+T\+E\+To\+Time\+Code} (S\+M\+P\+T\+E\+Time smpte)
\begin{DoxyCompactList}\small\item\em converts a S\+M\+P\+TE to Timecode (hhmmssff) \end{DoxyCompactList}\item 
int64\+\_\+t \hyperlink{Timer_8cpp_a7d03003ea78abe715939646e4a85d506}{atl\+::convert\+Time\+Val\+To\+Time\+Code} (timeval tv, double fps)
\begin{DoxyCompactList}\small\item\em converts a timeval structure to Timecode (hhmmssff) \end{DoxyCompactList}\item 
int64\+\_\+t \hyperlink{Timer_8cpp_af22a77f0685aa1914fef166d4b3ce87a}{atl\+::convert\+Double\+To\+Time\+Code} (double d\+Time, double fps)
\begin{DoxyCompactList}\small\item\em Converts a double to a Time\+Code. \end{DoxyCompactList}\item 
uint64\+\_\+t \hyperlink{Timer_8cpp_a84dea358f576690ebbb2573bad467a07}{atl\+::convert\+Double\+To\+Time\+Stamp} (double d\+Time)
\begin{DoxyCompactList}\small\item\em Returns the current timestamp. \end{DoxyCompactList}\item 
void \hyperlink{Timer_8cpp_a52e920e014a41704e36dd09662e927a8}{atl\+::sleep} (double time)
\begin{DoxyCompactList}\small\item\em calculates the sum of two time values \& Calcs the sum of tv1 and tv2. Returns the sum in a timeval struct. Calcs negative times properly, with the appropriate sign on both tv\+\_\+sec and tv\+\_\+usec (these signs will match unless one of them is 0). N\+O\+TE\+: both abs(tv\+\_\+usec)\textquotesingle{}s must be $<$ 1000000 (ie, normal timeval format) \end{DoxyCompactList}\item 
double {\bfseries atl\+::convert\+Object\+Id\+Time\+To\+Double} (Object\+Id id)\hypertarget{Timer_8h_a3ecc3577727f04feb10625de453dc63a}{}\label{Timer_8h_a3ecc3577727f04feb10625de453dc63a}

\item 
Object\+Id {\bfseries atl\+::convert\+Double\+To\+Object\+Id\+Time} (double value)\hypertarget{Timer_8h_a8afb64ef1ccb2fc505a303ad8e015eb7}{}\label{Timer_8h_a8afb64ef1ccb2fc505a303ad8e015eb7}

\item 
uint64\+\_\+t {\bfseries atl\+::convert\+Usecs\+To\+Frame\+Time} (uint64\+\_\+t usecs, double fps)\hypertarget{Timer_8h_a92609c4dc34572991a84643ef246fc47}{}\label{Timer_8h_a92609c4dc34572991a84643ef246fc47}

\item 
std\+::string \hyperlink{Timer_8cpp_af027be722fe10b8d5e51677431960d0b}{atl\+::get\+Date\+As\+String} ()
\begin{DoxyCompactList}\small\item\em Returns the current date and time as a string. \end{DoxyCompactList}\item 
Json\+Box\+::\+Value \hyperlink{Timer_8cpp_a9a45cc33296b6faaeeeefd73ccd76aa8}{atl\+::test\+Timer} (bool print\+Flag, bool assert\+Flag)
\begin{DoxyCompactList}\small\item\em functional test for this class \end{DoxyCompactList}\item 
void \hyperlink{Timer_8cpp_a2d5c345ed15df5398f6810b484cee6d4}{atl\+::sleep\+Test} (Json\+Box\+::\+Value \&result\+String, double delay\+Time, double sleep\+Elapsed, double time\+Variance, bool print\+Flag, bool assert\+Flag, int testno)
\begin{DoxyCompactList}\small\item\em Helper function to test sleep. \end{DoxyCompactList}\item 
void \hyperlink{Timer_8cpp_a5f337b8bd68e696ee0f9ea0e0fa07a08}{atl\+::object\+I\+D\+Size\+Test} (bool print\+Flag, bool assert\+Flag, Json\+Box\+::\+Value \&result\+String)
\begin{DoxyCompactList}\small\item\em Helper function to check the Object\+ID size. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
A\+W\+A\+RE Camera Interface Wrapper. 

\begin{DoxyAuthor}{Author}
S. D. Feller 2013
\end{DoxyAuthor}
Timer data formats

S\+M\+P\+T\+E\+Time -\/ structure with hour, minute, second and frame fields double -\/ represents time as U\+T\+C\+Seconds.\+utc microseconds timeval -\/ structure with 32bit tv\+\_\+sec and 32 bit tv\+\_\+usec int64\+\_\+t -\/ 

\subsection{Function Documentation}
\index{Timer.\+h@{Timer.\+h}!convert\+Double\+To\+S\+M\+P\+TE@{convert\+Double\+To\+S\+M\+P\+TE}}
\index{convert\+Double\+To\+S\+M\+P\+TE@{convert\+Double\+To\+S\+M\+P\+TE}!Timer.\+h@{Timer.\+h}}
\subsubsection[{\texorpdfstring{convert\+Double\+To\+S\+M\+P\+T\+E(double d\+Time, double fps)}{convertDoubleToSMPTE(double dTime, double fps)}}]{\setlength{\rightskip}{0pt plus 5cm}S\+M\+P\+T\+E\+Time atl\+::convert\+Double\+To\+S\+M\+P\+TE (
\begin{DoxyParamCaption}
\item[{double}]{d\+Time, }
\item[{double}]{fps}
\end{DoxyParamCaption}
)}\hypertarget{Timer_8cpp_file_a5402f8ec7c1cd4b04c081038f7c040f5}{}\label{Timer_8cpp_file_a5402f8ec7c1cd4b04c081038f7c040f5}


converts a double to an S\+M\+P\+TE time. 

! 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em d\+Time} & time to convert \\
\hline
\mbox{\tt in}  & {\em fps} & number of frames per second (used to convert decimal time to a frame) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\hyperlink{structatl_1_1SMPTETime}{S\+M\+P\+T\+E\+Time} conversion of double 
\end{DoxyReturn}
\index{Timer.\+h@{Timer.\+h}!convert\+Double\+To\+Time\+Code@{convert\+Double\+To\+Time\+Code}}
\index{convert\+Double\+To\+Time\+Code@{convert\+Double\+To\+Time\+Code}!Timer.\+h@{Timer.\+h}}
\subsubsection[{\texorpdfstring{convert\+Double\+To\+Time\+Code(double d\+Time, double fps)}{convertDoubleToTimeCode(double dTime, double fps)}}]{\setlength{\rightskip}{0pt plus 5cm}int64\+\_\+t atl\+::convert\+Double\+To\+Time\+Code (
\begin{DoxyParamCaption}
\item[{double}]{d\+Time, }
\item[{double}]{fps}
\end{DoxyParamCaption}
)}\hypertarget{Timer_8cpp_file_af22a77f0685aa1914fef166d4b3ce87a}{}\label{Timer_8cpp_file_af22a77f0685aa1914fef166d4b3ce87a}


Converts a double to a Time\+Code. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em double} & to be converted to time code \\
\hline
\mbox{\tt in}  & {\em F\+PS} & value needed to convert double to timeval (before conversion to time code) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
64-\/bit time code 
\end{DoxyReturn}
\index{Timer.\+h@{Timer.\+h}!convert\+Double\+To\+Time\+Stamp@{convert\+Double\+To\+Time\+Stamp}}
\index{convert\+Double\+To\+Time\+Stamp@{convert\+Double\+To\+Time\+Stamp}!Timer.\+h@{Timer.\+h}}
\subsubsection[{\texorpdfstring{convert\+Double\+To\+Time\+Stamp(double d\+Time)}{convertDoubleToTimeStamp(double dTime)}}]{\setlength{\rightskip}{0pt plus 5cm}uint64\+\_\+t atl\+::convert\+Double\+To\+Time\+Stamp (
\begin{DoxyParamCaption}
\item[{double}]{d\+Time}
\end{DoxyParamCaption}
)}\hypertarget{Timer_8cpp_file_a84dea358f576690ebbb2573bad467a07}{}\label{Timer_8cpp_file_a84dea358f576690ebbb2573bad467a07}


Returns the current timestamp. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em double} & to be converted to timestamp \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
64-\/bit timestamp
\end{DoxyReturn}
This is an internal function since it will eventually calculate frame rate and other information \index{Timer.\+h@{Timer.\+h}!convert\+Double\+To\+Time\+Val@{convert\+Double\+To\+Time\+Val}}
\index{convert\+Double\+To\+Time\+Val@{convert\+Double\+To\+Time\+Val}!Timer.\+h@{Timer.\+h}}
\subsubsection[{\texorpdfstring{convert\+Double\+To\+Time\+Val(double d\+Time)}{convertDoubleToTimeVal(double dTime)}}]{\setlength{\rightskip}{0pt plus 5cm}timeval atl\+::convert\+Double\+To\+Time\+Val (
\begin{DoxyParamCaption}
\item[{double}]{d\+Time}
\end{DoxyParamCaption}
)}\hypertarget{Timer_8cpp_file_a58482b94aff8dbe635dde42c56988aae}{}\label{Timer_8cpp_file_a58482b94aff8dbe635dde42c56988aae}


converts a double to a timeval struct 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em double} & to be converted to timeval \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
timeval conversion of double 
\end{DoxyReturn}
\index{Timer.\+h@{Timer.\+h}!convert\+S\+M\+P\+T\+E\+To\+Time\+Code@{convert\+S\+M\+P\+T\+E\+To\+Time\+Code}}
\index{convert\+S\+M\+P\+T\+E\+To\+Time\+Code@{convert\+S\+M\+P\+T\+E\+To\+Time\+Code}!Timer.\+h@{Timer.\+h}}
\subsubsection[{\texorpdfstring{convert\+S\+M\+P\+T\+E\+To\+Time\+Code(\+S\+M\+P\+T\+E\+Time smpte)}{convertSMPTEToTimeCode(SMPTETime smpte)}}]{\setlength{\rightskip}{0pt plus 5cm}int64\+\_\+t atl\+::convert\+S\+M\+P\+T\+E\+To\+Time\+Code (
\begin{DoxyParamCaption}
\item[{{\bf S\+M\+P\+T\+E\+Time}}]{smpte}
\end{DoxyParamCaption}
)}\hypertarget{Timer_8cpp_file_a9e6af453d5f81bf62e245523f18c19f4}{}\label{Timer_8cpp_file_a9e6af453d5f81bf62e245523f18c19f4}


converts a S\+M\+P\+TE to Timecode (hhmmssff) 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em \hyperlink{structatl_1_1SMPTETime}{S\+M\+P\+T\+E\+Time}} & value to be converted to time code \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
64-\/bit time code 
\end{DoxyReturn}
\index{Timer.\+h@{Timer.\+h}!convert\+Time\+Val\+To\+Double@{convert\+Time\+Val\+To\+Double}}
\index{convert\+Time\+Val\+To\+Double@{convert\+Time\+Val\+To\+Double}!Timer.\+h@{Timer.\+h}}
\subsubsection[{\texorpdfstring{convert\+Time\+Val\+To\+Double(timeval tv)}{convertTimeValToDouble(timeval tv)}}]{\setlength{\rightskip}{0pt plus 5cm}double atl\+::convert\+Time\+Val\+To\+Double (
\begin{DoxyParamCaption}
\item[{timeval}]{tv}
\end{DoxyParamCaption}
)}\hypertarget{Timer_8cpp_file_ade2ece9b704882feffbb9a6fc7958b0a}{}\label{Timer_8cpp_file_ade2ece9b704882feffbb9a6fc7958b0a}


converts a timeval struct to double 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em timeval} & to be converted to double \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
double conversion of timeval 
\end{DoxyReturn}
\index{Timer.\+h@{Timer.\+h}!convert\+Time\+Val\+To\+S\+M\+P\+TE@{convert\+Time\+Val\+To\+S\+M\+P\+TE}}
\index{convert\+Time\+Val\+To\+S\+M\+P\+TE@{convert\+Time\+Val\+To\+S\+M\+P\+TE}!Timer.\+h@{Timer.\+h}}
\subsubsection[{\texorpdfstring{convert\+Time\+Val\+To\+S\+M\+P\+T\+E(timeval tv, double fps)}{convertTimeValToSMPTE(timeval tv, double fps)}}]{\setlength{\rightskip}{0pt plus 5cm}S\+M\+P\+T\+E\+Time atl\+::convert\+Time\+Val\+To\+S\+M\+P\+TE (
\begin{DoxyParamCaption}
\item[{timeval}]{tv, }
\item[{double}]{fps}
\end{DoxyParamCaption}
)}\hypertarget{Timer_8cpp_file_aa9d2a8842a9b1bd08040ac6534dddc83}{}\label{Timer_8cpp_file_aa9d2a8842a9b1bd08040ac6534dddc83}


converts a double to an S\+M\+P\+TE time. 

! 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em tv} & time to convert \\
\hline
\mbox{\tt in}  & {\em fps} & number of frames per second (used to convert decimal time to a frame) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\hyperlink{structatl_1_1SMPTETime}{S\+M\+P\+T\+E\+Time} conversion of timeval 
\end{DoxyReturn}
\index{Timer.\+h@{Timer.\+h}!convert\+Time\+Val\+To\+String@{convert\+Time\+Val\+To\+String}}
\index{convert\+Time\+Val\+To\+String@{convert\+Time\+Val\+To\+String}!Timer.\+h@{Timer.\+h}}
\subsubsection[{\texorpdfstring{convert\+Time\+Val\+To\+String(timeval tv, double fps)}{convertTimeValToString(timeval tv, double fps)}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::string atl\+::convert\+Time\+Val\+To\+String (
\begin{DoxyParamCaption}
\item[{timeval}]{tv, }
\item[{double}]{fps}
\end{DoxyParamCaption}
)}\hypertarget{Timer_8cpp_file_a829b64c4abc61ff3190ad43bbc31a5b3}{}\label{Timer_8cpp_file_a829b64c4abc61ff3190ad43bbc31a5b3}


Converts the given timeval and int into a a string. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em timeval} & to be converted to string \\
\hline
\mbox{\tt in}  & {\em F\+PS} & value needed to convert timeval to S\+M\+P\+TE (before conversion to string) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
std\+::string conversion of timeval 
\end{DoxyReturn}
\index{Timer.\+h@{Timer.\+h}!convert\+Time\+Val\+To\+Time\+Code@{convert\+Time\+Val\+To\+Time\+Code}}
\index{convert\+Time\+Val\+To\+Time\+Code@{convert\+Time\+Val\+To\+Time\+Code}!Timer.\+h@{Timer.\+h}}
\subsubsection[{\texorpdfstring{convert\+Time\+Val\+To\+Time\+Code(timeval tv, double fps)}{convertTimeValToTimeCode(timeval tv, double fps)}}]{\setlength{\rightskip}{0pt plus 5cm}int64\+\_\+t atl\+::convert\+Time\+Val\+To\+Time\+Code (
\begin{DoxyParamCaption}
\item[{timeval}]{tv, }
\item[{double}]{fps}
\end{DoxyParamCaption}
)}\hypertarget{Timer_8cpp_file_a7d03003ea78abe715939646e4a85d506}{}\label{Timer_8cpp_file_a7d03003ea78abe715939646e4a85d506}


converts a timeval structure to Timecode (hhmmssff) 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em timeval} & to be converted to time code \\
\hline
\mbox{\tt in}  & {\em F\+PS} & value needed to convert timeval to S\+M\+P\+TE (before conversion to time code) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
64-\/bit time code 
\end{DoxyReturn}
\index{Timer.\+h@{Timer.\+h}!get\+Date\+As\+String@{get\+Date\+As\+String}}
\index{get\+Date\+As\+String@{get\+Date\+As\+String}!Timer.\+h@{Timer.\+h}}
\subsubsection[{\texorpdfstring{get\+Date\+As\+String()}{getDateAsString()}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::string atl\+::get\+Date\+As\+String (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{Timer_8cpp_file_af027be722fe10b8d5e51677431960d0b}{}\label{Timer_8cpp_file_af027be722fe10b8d5e51677431960d0b}


Returns the current date and time as a string. 

\begin{DoxyReturn}{Returns}
std\+::string conversion of date 
\end{DoxyReturn}
\index{Timer.\+h@{Timer.\+h}!get\+Time@{get\+Time}}
\index{get\+Time@{get\+Time}!Timer.\+h@{Timer.\+h}}
\subsubsection[{\texorpdfstring{get\+Time()}{getTime()}}]{\setlength{\rightskip}{0pt plus 5cm}double atl\+::get\+Time (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{Timer_8cpp_file_acff56a2311fd5a42f5c49d058b38fd43}{}\label{Timer_8cpp_file_acff56a2311fd5a42f5c49d058b38fd43}


Gets the current time as a double. 

\begin{DoxyReturn}{Returns}
double time 
\end{DoxyReturn}
\index{Timer.\+h@{Timer.\+h}!get\+Timestamp@{get\+Timestamp}}
\index{get\+Timestamp@{get\+Timestamp}!Timer.\+h@{Timer.\+h}}
\subsubsection[{\texorpdfstring{get\+Timestamp()}{getTimestamp()}}]{\setlength{\rightskip}{0pt plus 5cm}uint64\+\_\+t atl\+::get\+Timestamp (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{Timer_8cpp_file_ad3d45f1cf7d5e0874a3875366eb93cc1}{}\label{Timer_8cpp_file_ad3d45f1cf7d5e0874a3875366eb93cc1}


Returns the current time as utc with 2$^\wedge$16 sub second steps. 

\begin{DoxyReturn}{Returns}
64-\/bit timestamp 
\end{DoxyReturn}
\index{Timer.\+h@{Timer.\+h}!get\+Usec\+Time@{get\+Usec\+Time}}
\index{get\+Usec\+Time@{get\+Usec\+Time}!Timer.\+h@{Timer.\+h}}
\subsubsection[{\texorpdfstring{get\+Usec\+Time()}{getUsecTime()}}]{\setlength{\rightskip}{0pt plus 5cm}uint64\+\_\+t atl\+::get\+Usec\+Time (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{Timer_8cpp_file_ad7c35067689e99858734c463710e9708}{}\label{Timer_8cpp_file_ad7c35067689e99858734c463710e9708}


Gets the number of microseconds since the epoch. 

\begin{DoxyReturn}{Returns}
64-\/bit microsecond time 
\end{DoxyReturn}
\index{Timer.\+h@{Timer.\+h}!object\+I\+D\+Size\+Test@{object\+I\+D\+Size\+Test}}
\index{object\+I\+D\+Size\+Test@{object\+I\+D\+Size\+Test}!Timer.\+h@{Timer.\+h}}
\subsubsection[{\texorpdfstring{object\+I\+D\+Size\+Test(bool print\+Flag, bool assert\+Flag, Json\+Box\+::\+Value \&result\+String)}{objectIDSizeTest(bool printFlag, bool assertFlag, JsonBox::Value &resultString)}}]{\setlength{\rightskip}{0pt plus 5cm}void atl\+::object\+I\+D\+Size\+Test (
\begin{DoxyParamCaption}
\item[{bool}]{print\+Flag, }
\item[{bool}]{assert\+Flag, }
\item[{Json\+Box\+::\+Value \&}]{result\+String}
\end{DoxyParamCaption}
)}\hypertarget{Timer_8cpp_file_a5f337b8bd68e696ee0f9ea0e0fa07a08}{}\label{Timer_8cpp_file_a5f337b8bd68e696ee0f9ea0e0fa07a08}


Helper function to check the Object\+ID size. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em print\+Flag} & boolean (true prints info to console) \\
\hline
\mbox{\tt in}  & {\em assert\+Flag} & boolean (true stops the program) \\
\hline
\mbox{\tt in}  & {\em Json\+Box\+::\+Value} & passed by reference, updated only if this test fails \\
\hline
\end{DoxyParams}
\index{Timer.\+h@{Timer.\+h}!sleep@{sleep}}
\index{sleep@{sleep}!Timer.\+h@{Timer.\+h}}
\subsubsection[{\texorpdfstring{sleep(double time)}{sleep(double time)}}]{\setlength{\rightskip}{0pt plus 5cm}void atl\+::sleep (
\begin{DoxyParamCaption}
\item[{double}]{time}
\end{DoxyParamCaption}
)}\hypertarget{Timer_8cpp_file_a52e920e014a41704e36dd09662e927a8}{}\label{Timer_8cpp_file_a52e920e014a41704e36dd09662e927a8}


calculates the sum of two time values \& Calcs the sum of tv1 and tv2. Returns the sum in a timeval struct. Calcs negative times properly, with the appropriate sign on both tv\+\_\+sec and tv\+\_\+usec (these signs will match unless one of them is 0). N\+O\+TE\+: both abs(tv\+\_\+usec)\textquotesingle{}s must be $<$ 1000000 (ie, normal timeval format) 

! borrowed copiously from vrpn (thanks Russell ) !perform normalization of a timeval X\+XX this still needs to be checked for errors if the timeval or the rate is negative !perform normalization of a timeval !\+Calcs the diff between tv1 and tv2.

\begin{DoxyReturn}{Returns}
the diff in a timeval struct. Calcs negative times properly, with the appropriate sign on both tv\+\_\+sec and tv\+\_\+usec (these signs will match unless one of them is 0) !multiplies the timevale by the given structure !compares two time values 

1 if tv1 is greater than tv2; 0 otherwise !checks if two timevals are equal

1 if tv1 is equal to tv2; 0 otherwise converts the Object\+Id time into a double. the m\+\_\+id field is lost converts a double time to an Object\+Id time. The m\+\_\+id field is set to 0 
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em value} & time value to set to the object \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Object\+Id with the m\+\_\+utc and m\+\_\+step set appropriately.
\end{DoxyReturn}
{\bfseries N\+O\+TE} -\/ There is a potential for a rounding error to have the step off by 1 This function will convert millisecond time to our standard frame\+Time timestep


\begin{DoxyParams}{Parameters}
{\em usecs} & Microseconds since the epoch \\
\hline
{\em fps} & The current fps of the camera\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
This function will convert usecs time to standard date time
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em usecs} & Microseconds since the epoch\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Sleeps for the given amount of time
\end{DoxyReturn}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em double} & time to sleep in seconds (supports millisecond resolution) \\
\hline
\end{DoxyParams}
\index{Timer.\+h@{Timer.\+h}!sleep\+Test@{sleep\+Test}}
\index{sleep\+Test@{sleep\+Test}!Timer.\+h@{Timer.\+h}}
\subsubsection[{\texorpdfstring{sleep\+Test(\+Json\+Box\+::\+Value \&result\+String, double delay\+Time, double sleep\+Elapsed, double time\+Variance, bool print\+Flag, bool assert\+Flag, int testno)}{sleepTest(JsonBox::Value &resultString, double delayTime, double sleepElapsed, double timeVariance, bool printFlag, bool assertFlag, int testno)}}]{\setlength{\rightskip}{0pt plus 5cm}void atl\+::sleep\+Test (
\begin{DoxyParamCaption}
\item[{Json\+Box\+::\+Value \&}]{result\+String, }
\item[{double}]{delay\+Time, }
\item[{double}]{sleep\+Elapsed, }
\item[{double}]{time\+Variance, }
\item[{bool}]{print\+Flag, }
\item[{bool}]{assert\+Flag, }
\item[{int}]{testno}
\end{DoxyParamCaption}
)}\hypertarget{Timer_8cpp_file_a2d5c345ed15df5398f6810b484cee6d4}{}\label{Timer_8cpp_file_a2d5c345ed15df5398f6810b484cee6d4}


Helper function to test sleep. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em Json\+Box\+::\+Value} & passed by reference, updated with results of this test \\
\hline
\mbox{\tt in}  & {\em expected} & delay time of sleep function \\
\hline
\mbox{\tt in}  & {\em actual} & elapsed time of sleep function \\
\hline
\mbox{\tt in}  & {\em acceptable} & time variance \\
\hline
\mbox{\tt in}  & {\em print\+Flag} & boolean (true prints info to console) \\
\hline
\mbox{\tt in}  & {\em assert\+Flag} & boolean (true stops the program) \\
\hline
\mbox{\tt in}  & {\em the} & number of the test currently running (either 1 or 2)\\
\hline
\end{DoxyParams}
Calculates the variance between the delay time passed in and the actual sleep time elapsed, and checks this against an allowed time variance. Notifies user that the test has been passed if actual variance is less than the time variance. \index{Timer.\+h@{Timer.\+h}!test\+Timer@{test\+Timer}}
\index{test\+Timer@{test\+Timer}!Timer.\+h@{Timer.\+h}}
\subsubsection[{\texorpdfstring{test\+Timer(bool print\+Flag, bool assert\+Flag)}{testTimer(bool printFlag, bool assertFlag)}}]{\setlength{\rightskip}{0pt plus 5cm}Json\+Box\+::\+Value atl\+::test\+Timer (
\begin{DoxyParamCaption}
\item[{bool}]{print\+Flag, }
\item[{bool}]{assert\+Flag}
\end{DoxyParamCaption}
)}\hypertarget{Timer_8cpp_file_a9a45cc33296b6faaeeeefd73ccd76aa8}{}\label{Timer_8cpp_file_a9a45cc33296b6faaeeeefd73ccd76aa8}


functional test for this class 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em print\+Flag} & boolean (true prints info to console) \\
\hline
\mbox{\tt in}  & {\em assert\+Flag} & boolean (true stops the program) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Json\+Box\+::\+Value containing test results 
\end{DoxyReturn}
